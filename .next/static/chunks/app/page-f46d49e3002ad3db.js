(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(2115),l=s(8619),i=s(8829),n=s(4412),c=s(3464),o=s(6766);let d=()=>{let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)([]),[x,h]=(0,a.useState)(0),[g,m]=(0,a.useState)(!1),[u,f]=(0,a.useState)(!1),b=(0,l.d)(0),p=(0,i.G)(b,[-200,0,200],[-10,0,10]),y=(0,i.G)(b,[-150,0,150],[0,1,0]);(0,a.useEffect)(()=>{(async()=>{try{let e=[];for(let t=0;t<15;t++){let t=await c.A.get("https://cataas.com/cat?json=true");e.push(t.data)}t(e)}catch(e){console.error("Error fetching cats:",e),t(Array(15).fill(0).map((e,t)=>({id:"mock-cat-".concat(t),url:"https://via.placeholder.com/300x400?text=Cat+".concat(t+1),tags:[],createdAt:"",mimeType:""})))}})()},[]);let j=(e,t)=>{console.log(e),f(!1);let s=e.offset.x>0?"right":"left";Math.abs(e.offset.x)>100?("right"===s&&d(e=>[...e,t]),setTimeout(()=>{h(e=>{let t=e+1;return t>=15&&m(!0),t}),b.set(0)},20)):b.set(0)},w=t=>{let s=e[x];s&&(b.set("right"===t?100:-100),"right"===t&&d(e=>[...e,s]),setTimeout(()=>{h(e=>{let t=e+1;return t>=15&&m(!0),t}),b.set(0)},20))};if(g)return(0,r.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-gray-200 px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full flex flex-col items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Your Cat Preferences"}),(0,r.jsxs)("p",{className:"text-gray-500 mb-6 text-center",children:["You liked ",(0,r.jsx)("span",{className:"font-semibold",children:s.length})," out of ",15," cats!"]}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-3 w-full mb-6",children:s.length>0?s.map(e=>(0,r.jsx)(o.default,{src:e.url,alt:"Liked Cat",className:"w-full h-24 object-cover rounded-lg shadow",width:100,height:100},e.id)):(0,r.jsx)("p",{className:"col-span-3 text-center text-gray-400",children:"No cats liked. Try again!"})}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 px-6 py-2 bg-gray-800 text-white rounded-full font-semibold shadow hover:bg-gray-700 transition",children:"Start Over"})]})});let N=e[x],v=e.slice(x+1,x+3+1);return(0,r.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-gray-200 px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-xs flex flex-col items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2 text-center",children:"Paws & Preferences"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4 text-center",children:"Swipe right if you like the kitty, left if you don't!"}),(0,r.jsxs)("div",{className:"relative w-full h-[400px] flex justify-center items-center mb-4",children:[N&&(0,r.jsx)(n.P.div,{className:"absolute w-full h-[400px] rounded-2xl bg-cover bg-center shadow-2xl flex items-end justify-center",style:{backgroundImage:"url(".concat(N.url,")"),x:b,rotate:p,opacity:y,zIndex:2},drag:"x",dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:.8,onDragEnd:(e,t)=>j(t,N),onPointerDown:()=>f(!0),animate:u?{}:{x:0,rotate:0,opacity:1,scale:1,y:0},transition:{type:"spring",stiffness:300,damping:30},children:(0,r.jsx)("div",{className:"w-full flex justify-between items-center px-4 pb-4",children:(0,r.jsxs)("span",{className:"bg-black/40 text-white text-xs px-3 py-1 rounded-full",children:["Cat ",x+1," / ",15]})})},N.id),!N&&x<15&&(0,r.jsx)("div",{className:"absolute w-full h-full flex items-center justify-center bg-gray-100 rounded-2xl text-gray-400",children:"Loading cats..."})]}),(0,r.jsxs)("div",{className:"flex justify-center gap-2 mb-2 h-10",children:[v.map((e,t)=>(0,r.jsx)(n.P.div,{className:"w-20 h-10 rounded-lg bg-cover bg-center shadow-md border-2 border-gray-200",style:{backgroundImage:"url(".concat(e.url,")")},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*t,type:"spring",stiffness:300,damping:30}},e.id)),0===v.length&&x<15&&(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"No upcoming cats to preview"})]}),(0,r.jsxs)("div",{className:"flex gap-8 mt-2",children:[(0,r.jsx)("button",{onClick:()=>w("left"),className:"w-14 h-14 rounded-full bg-white shadow flex items-center justify-center text-red-500 text-2xl hover:bg-red-50 active:scale-95 transition","aria-label":"Dislike",children:(0,r.jsxs)("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",className:"mt-1.5",children:[(0,r.jsx)("path",{d:"M7 14V3H19.5C20.3284 3 21 3.67157 21 4.5V11.5C21 12.3284 20.3284 13 19.5 13H14.72L15.64 18.57C15.74 19.19 15.22 19.75 14.59 19.75C14.22 19.75 13.89 19.53 13.76 19.19L11.29 13H7Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,r.jsx)("rect",{x:"3",y:"3",width:"4",height:"11",rx:"2",stroke:"currentColor",strokeWidth:"2"})]})}),(0,r.jsx)("button",{onClick:()=>w("right"),className:"w-14 h-14 rounded-full bg-white shadow flex items-center justify-center text-green-500 text-2xl hover:bg-green-50 active:scale-95 transition","aria-label":"Like",children:(0,r.jsxs)("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",className:"mb-1.5",children:[(0,r.jsx)("path",{d:"M7 10V21H19.5C20.3284 21 21 20.3284 21 19.5V12.5C21 11.6716 20.3284 11 19.5 11H14.72L15.64 5.43C15.74 4.81 15.22 4.25 14.59 4.25C14.22 4.25 13.89 4.47 13.76 4.81L11.29 11H7Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),(0,r.jsx)("rect",{x:"3",y:"10",width:"4",height:"11",rx:"2",stroke:"currentColor",strokeWidth:"2"})]})})]}),x<15&&(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-4",children:[15-x," cats remaining"]})]})})}},7169:(e,t,s)=>{Promise.resolve().then(s.bind(s,1057))}},e=>{var t=t=>e(e.s=t);e.O(0,[296,441,684,358],()=>t(7169)),_N_E=e.O()}]);